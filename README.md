# Lore Keeper

<div align="center">
  <img src="apps/web/public/images/loreKeeperlogo3.png" alt="Lore Keeper Logo" width="200" />
  
  **AI-Powered Digital Immortality Platform**
  
  *Capture your story, heart, mind, soul, and essence. Preserve your complete being for future AI systems.*
  
  **Cost-Optimized & High-Performance**: Rule-based extraction, aggressive caching, and efficient algorithms ensure fast, free operations.
  
  [![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=flat&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
  [![React](https://img.shields.io/badge/React-20232A?style=flat&logo=react&logoColor=61DAFB)](https://reactjs.org/)
  [![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat&logo=node.js&logoColor=white)](https://nodejs.org/)
  [![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=flat&logo=supabase&logoColor=white)](https://supabase.com/)
</div>

---

## Table of Contents

- [What is Lore Keeper?](#what-is-lore-keeper)
- [Key Features](#key-features)
  - [User-Facing Features](#user-facing-features)
  - [Technical Features](#technical-features)
- [Getting Started](#getting-started)
- [Project Structure](#project-structure)
- [Architecture Overview](#architecture-overview)
- [Development Guide](#development-guide)
- [Key Concepts](#key-concepts)
- [Documentation](#documentation)
- [Cost & Performance](#cost--performance)
- [Roadmap](#roadmap)
- [FAQ](#faq)
- [Contributing](#contributing)
- [Troubleshooting](#troubleshooting)

---

## What is Lore Keeper?

**Lore Keeper** is an intelligent journaling platform designed to capture the **story, heart, mind, soul, and essence** of a personâ€”preserving their complete being for future digital immortality through AI.

**Lore Keeper is your favorite:**
- ğŸ—£ï¸ **Gossip Buddy** - Curious, engaging, relationship-focused. Discusses characters, relationships, and social dynamics with enthusiasm and curiosity.
- ğŸ›‹ï¸ **Therapist** - Deep, reflective, supportive. Validates emotions, helps process experiences, asks gentle exploratory questions.
- ğŸ“š **Historian** - Preserves your complete story, organizes your timeline, and maintains truth and continuity across your entire narrative.
- ğŸ¯ **Strategist** - Goal-oriented, actionable. Provides strategic guidance, helps with planning, offers actionable insights based on your patterns.
- ğŸ§  **Memory Bank** - Remembers everything. Your complete digital memory that never forgets and can answer questions about your past, present, and patterns.

Our mission is threefold:
1. **Automatic Biography Generation**: Transform your journal entries into a polished, comprehensive biography automaticallyâ€”no writing required. Just live your life, and Lore Keeper writes your story.
2. **Automatic Timeline Creation**: Build a comprehensive, hierarchical timeline of your life automaticallyâ€”organizing your entries into eras, sagas, arcs, chapters, and scenes. Your timeline writes itself as you journal.
3. **Digital Immortality**: Build a complete digital representation of yourself that preserves your essence for future AI systems.

### ğŸš€ Current Capabilities

**Production-Ready Features:**
- âœ… **Enterprise-Grade Security Suite** - CSRF protection, rate limiting, secure headers, XSS protection, data encryption (AES-256-GCM), privacy controls (GDPR compliant)
- âœ… **Comprehensive Testing** - Unit tests, integration tests, E2E tests (Playwright), security test suite (100% coverage)
- âœ… **CI/CD Pipeline** - Automated testing, code quality checks, duplicate detection, unused code analysis
- âœ… **Code Quality** - ESLint rules, import order enforcement, automated code cleanup
- âœ… **Memory Explorer** - Semantic search with HQI integration, memory cards, linked memories, filters
- âœ… **Timeline System** - 9-layer hierarchical timeline (Mythos â†’ MicroActions), visual timeline page, emotion heatmap, highlights
- âœ… **Character System** - Relationship tracking, knowledge base, auto-generated avatars, relationship graphs, character modals
- âœ… **Location Tracking** - Location profiles, visit timelines, location modals
- âœ… **Automatic Biography** - AI-powered biography generation with chatbot-style editor
- âœ… **Multi-Persona Chat** - Gossip Buddy, Therapist, Historian, Strategist, Memory Bank personas
- âœ… **Truth Seeker** - Automatic fact checking and contradiction detection
- âœ… **Task Engine** - Task management with Microsoft To-Do integration
- âœ… **Autopilot** - Strategic guidance panels (daily/weekly/monthly)
- âœ… **Essence Profiles** - Automatic extraction of hopes, dreams, fears, strengths, values, traits
- âœ… **Auto-Tagging** - AI-powered classification for entries (tags, lane, hierarchy)
- âœ… **RAG System** - Cached context packets for efficient AI responses
- âœ… **Semantic Search** - Vector embeddings for similarity search
- âœ… **Privacy Controls** - User-controlled data access, encryption, audit logging

We capture not just what happened, but **who you are**: your thoughts, emotions, relationships, values, dreams, fears, triumphs, and the unique patterns that make you *you*. Think of Lore Keeper as your digital soulâ€”a living, breathing archive that remembers everything, understands your context, automatically writes your biography, automatically creates your timeline, and preserves your essence for future AI systems that may one day allow you to continue your story, share your wisdom, and remain connected to those you love, long after you're gone.

### For Everyone (Non-Technical Users)

**What can Lore Keeper do for you?**

- **ğŸ“– Capture Your Complete Story**: Write naturally about your experiences, thoughts, and feelingsâ€”Lore Keeper preserves everything
- **ğŸ—£ï¸ Your Favorite Gossip Buddy**: Curious, engaging, relationship-focused AI that discusses characters, relationships, and social dynamics with enthusiasm
- **ğŸ›‹ï¸ Your Therapist**: Deep, reflective, supportive AI that validates emotions, helps process experiences, and asks gentle exploratory questions
- **ğŸ“š Your Historian**: Preserves your complete story, organizes your timeline, and maintains truth and continuity across your entire narrative
- **ğŸ¯ Your Strategist**: Goal-oriented, actionable AI that provides strategic guidance, helps with planning, and offers insights based on your patterns
- **ğŸ§  Your Memory Bank**: Remembers everythingâ€”your complete digital memory that never forgets and can answer questions about your past, present, and patterns
- **ğŸ“š Automatic Biography Generation**: **Your biography writes itself automatically**â€”just journal your life, and Lore Keeper transforms your entries into a polished, comprehensive biography with AI assistance. No writing skills required.
- **ğŸ“Š Automatic Timeline Creation**: **Your timeline builds itself automatically**â€”Lore Keeper organizes your entries into a hierarchical timeline (eras, sagas, arcs, chapters, scenes) as you journal. See your life story unfold chronologically with beautiful visualizations.
- **ğŸ’ Preserve Your Heart**: Track emotions, relationships, and what truly matters to you
- **ğŸ§  Archive Your Mind**: Capture your thoughts, ideas, beliefs, values, and intellectual journey
- **âœ¨ Preserve Your Soul**: Document your essenceâ€”your dreams, fears, triumphs, failures, and the patterns that make you unique
- **ğŸ” Truth & Continuity**: Automatic fact-checking ensures your story is accurate and consistent
- **ğŸ‘¥ Relationship Mapping**: Build a complete network of your relationships, showing how people shaped your life
- **ğŸ“Š Life Patterns**: Discover insights about your habits, growth, and the themes that define you
- **ğŸ”® Future-Ready**: Structured data and rich context prepare your digital self for future AI systems

**Why use Lore Keeper?**

Traditional journals capture only fragmentsâ€”dates and eventsâ€”but miss the deeper essence of who you are. Lore Keeper is designed for **automatic biography generation**, **automatic timeline creation**, and **digital immortality**, capturing:

- **Your Complete Story**: Not just what happened, but why it mattered
- **Your Emotional Journey**: How experiences shaped your heart and soul
- **Your Relationships**: The people who defined you and how you impacted them
- **Your Values & Beliefs**: What you stood for and what guided your decisions
- **Your Patterns**: The recurring themes, habits, and growth that make you unique
- **Your Context**: Rich, interconnected data that preserves your essence for future AI systems

Unlike simple journals, Lore Keeper uses AI to:
- **Automatically write your biography** from your journal entriesâ€”no writing required
- **Automatically create your timeline**â€”organizing entries into eras, sagas, arcs, chapters, and scenes as you journal
- Connect related memories automatically, building a complete picture
- Find insights and patterns you might have missed
- Maintain truth and continuity across your entire narrative
- Answer questions about your past, present, and patterns
- Structure your data for future AI systems that may one day continue your story

### How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  You Journal    â”‚  â† Just write naturally about your life
â”‚  Your Life      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lore Keeper AI Processing          â”‚
â”‚  â€¢ Extracts facts, themes, patterns â”‚
â”‚  â€¢ Detects relationships & emotionsâ”‚
â”‚  â€¢ Organizes chronologically        â”‚
â”‚  â€¢ Verifies truth & consistency     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Biography      â”‚ â”‚  Timeline    â”‚ â”‚  Digital Self    â”‚
â”‚  Writes Itself  â”‚ â”‚  Builds Itselfâ”‚ â”‚  Preserved       â”‚
â”‚  Automatically  â”‚ â”‚  Automaticallyâ”‚ â”‚  For Future AI   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**The Magic**: You just journal. Lore Keeper does the restâ€”organizing, structuring, and preserving your complete digital self.

**Your AI Companion**: Lore Keeper adapts to be exactly what you needâ€”your gossip buddy for relationship talk, your therapist for emotional support, your historian for your story, your strategist for planning, and your memory bank that never forgets.

### Lore Keeper vs. Traditional Journals

| Feature | Traditional Journal | Other Journal Apps | **Lore Keeper** |
|---------|-------------------|-------------------|-----------------|
| **Biography Writing** | Manual, time-consuming | Not available | âœ… **Automatic** |
| **Timeline Creation** | Manual organization | Basic date sorting | âœ… **Automatic 9-layer hierarchy** |
| **AI Memory** | None | Limited | âœ… **Remembers everything** |
| **Fact Checking** | Manual | None | âœ… **Automatic verification** |
| **Relationship Tracking** | Manual notes | Basic tagging | âœ… **Automatic network mapping** |
| **Digital Immortality** | Not possible | Not designed for it | âœ… **Core purpose** |
| **Cost** | Free (pen & paper) | Free/Paid | âœ… **Free operations** (cost-optimized) |
| **Search** | Manual page flipping | Basic text search | âœ… **Semantic AI search** |
| **Insights** | None | Basic stats | âœ… **Deep pattern analysis** |

---

## Use Cases

### ğŸ“š For Writers & Creators
- **Automatic Memoir Generation**: Transform your journal entries into a polished memoir without writing skills
- **Story Arc Organization**: See your life as narrative arcs, sagas, and chapters
- **Character Development**: Track how people in your life shaped your story
- **Timeline Visualization**: Understand the chronology of your creative journey

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ For Families
- **Preserve Family History**: Capture stories, memories, and relationships for future generations
- **Legacy Building**: Create a digital legacy that can be passed down
- **Relationship Mapping**: Understand family connections and how they evolved
- **Multi-Generational Timeline**: See how your story fits into your family's larger narrative

### ğŸ’¼ For Professionals
- **Career Journey Tracking**: Document your professional growth, achievements, and learnings
- **Network Mapping**: Track professional relationships and how they developed
- **Skill Development**: See patterns in your learning and growth
- **Achievement Timeline**: Visualize your career milestones and progression

### ğŸŒŸ For Everyone
- **Digital Immortality**: Preserve your complete essence for future AI systems
- **Self-Discovery**: Understand yourself through pattern analysis and insights
- **Memory Preservation**: Never forget important moments, people, or experiences
- **Life Organization**: Transform scattered memories into an organized, searchable narrative

---

## Key Features

### User-Facing Features

#### ğŸ’¬ **AI Chat Assistant** - Your Multi-Faceted Companion â­
Lore Keeper seamlessly blends five personas based on context, becoming exactly what you need:

- ğŸ—£ï¸ **Gossip Buddy**: Curious, engaging, relationship-focused. Discusses characters, relationships, and social dynamics with enthusiasm and curiosity. Perfect for: "Tell me about Sarah" or "Who have I been spending time with?"
- ğŸ›‹ï¸ **Therapist**: Deep, reflective, supportive. Validates emotions, helps process experiences, asks gentle exploratory questions. Perfect for: Processing difficult experiences or understanding your emotional patterns.
- ğŸ“š **Biography Writer**: Narrative-focused, story-crafting. Helps shape compelling life stories, structure narratives, capture meaningful moments. Perfect for: "Help me write about my college years" or "What's the story of my career?"
- âœ¨ **Soul Capturer**: Essence-focused, identity tracking. Identifies and tracks core identity elementsâ€”hopes, dreams, fears, strengths, values, traits. Perfect for: Understanding who you are at your core.
- ğŸ¯ **Strategist**: Goal-oriented, actionable. Provides strategic guidance, helps with planning, offers actionable insights. Perfect for: "What should I focus on?" or "Help me plan my next steps."
- ğŸ§  **Memory Bank**: Remembers everything. Your complete digital memory that never forgets. Perfect for: "What did I do with Marcus last month?" or "Remind me of my goals."

**Features:**
- Natural language conversations about your memories
- **Streaming responses** for real-time word-by-word interaction
- **Slash commands** for quick actions:
  - `/recent` - Show recent entries
  - `/characters` - List all characters
  - `/locations` - List all locations
  - `/arcs` or `/chapters` - Show story arcs/chapters
  - `/soul` or `/essence` - View your soul profile
  - `/search <query>` - Search entries
  - `/help` - Show all commands
- **Message Actions**: Copy, regenerate, edit, delete messages with feedback (thumbs up/down)
- **Clickable Sources**: Sources and citations are clickable to view entries/chapters
- Context-aware responses using your entire journal history
- **Intelligent Persona Blending**: Automatically adapts to your needsâ€”emotional topics trigger Therapist, goal-setting triggers Strategist, character talk triggers Gossip Buddy, story editing triggers Biography Writer
- **Automatic Essence Extraction**: After every conversation, Lore Keeper extracts insights about your hopes, dreams, fears, strengths, weaknesses, skills, values, and relationship patterns
- **Cached RAG Packets**: Expensive context building cached for 5 minutes (50x faster)
- Source citations showing where information came from
- **Optimized Context Building**: Batched database queries, parallel operations

#### ğŸ“– **Journal Entries**
- Rich text journaling with markdown support
- **Rule-Based Tag Suggestions**: Fast, free tag extraction using pattern matching
  - Real-time tag suggestions as you type
  - Context-aware tag recommendations based on entry content
  - Uses existing tags database and keyword patterns
  - Aggressive caching for instant results
  - One-click tag selection
- **Voice Memo Recording**: Record or upload audio directly in the composer
  - Browser-based recording using MediaRecorder API
  - Upload pre-recorded audio files
  - Automatic transcription using OpenAI Whisper
  - Auto-populates composer with transcribed content, tags, and mood
  - Recording controls: start, pause, resume, stop, and cancel
  - Visual feedback with duration timer and recording indicators
- Automatic tagging and mood detection
- AI-generated summaries
- Photo integration with location context
- Date extraction from natural language using rule-based patterns

#### ğŸ“š **Chapters & Story Arcs**
- Organize entries into meaningful chapters
- Automatic chapter suggestions based on themes
- Timeline visualization of your story arcs
- Chapter summaries and insights (AI-generated)
- Chapter creation chatbot interface (ChapterCreationChatbot)
- Chapter viewer with entry organization

#### ğŸ‘¥ **Character & Relationship Tracking**
- **Rule-Based Character Detection**: Pattern matching for names and places (cost-optimized)
- Relationship mapping (friends, family, colleagues)
- Character timelines showing their role in your story
- Knowledge base for each person/place
- **Optimized Character List**: Batch queries eliminate N+1 problem (10-25x faster)
- **Auto-Generated Avatars**: Unique avatars for each character using DiceBear API
  - Deterministic avatar generation based on character UUID
  - Different avatar styles for humans, AI, locations, and events
  - Optional Supabase caching for improved performance
- **Enhanced Character Detail Modals**: Comprehensive tabbed interface
  - **Info**: Edit character details, aliases, pronouns, archetype, role, summary, tags
  - **Social Media**: Instagram, Twitter/X, Facebook, LinkedIn, GitHub, website, email, phone
  - **Connections**: Relationship to you, mutual connections, closeness scores
  - **History**: Shared memories and timeline
  - **Context**: Character overview, summary, tags
  - **Timeline**: Visual timeline of shared memories
  - **Chat**: AI-powered chatbot for character updates
  - **Insights**: Character stats, relationships count, first appearance
  - **Metadata**: Technical details and raw data
- Keyboard shortcuts (Ctrl/Cmd + 1-9) for quick navigation
- Chat integration for updating character information through conversation

#### ğŸ“Š **Automatic Timeline Creation** â­ **Core Feature**
- **Your timeline builds itself automatically** - Just journal your life, and Lore Keeper organizes your entries into a hierarchical timeline
- **9-Layer Hierarchy**: Automatically organizes entries into Mythos â†’ Epochs â†’ Eras â†’ Sagas â†’ Arcs â†’ Chapters â†’ Scenes â†’ Actions â†’ MicroActions
- **AI-Powered Organization**: AI detects themes, relationships, and patterns to create meaningful timeline structure
- **Color-Coded Visualization**: Beautiful visual representation of your life story
- **Nested Timeline Display**: See parent-child relationships and how events connect
- **Multiple View Modes**: Explore your timeline as graph, cards, or chapters
- **Chronological Sorting**: Precise date handling ensures accurate timeline ordering
- **Automatic Updates**: Timeline automatically updates as you add new journal entries
- **Visual Storytelling**: See your life story unfold chronologically with beautiful visualizations

#### ğŸ” **Memory Explorer (HQI Search)**
- Natural language search queries
- Semantic search powered by embeddings
- Automatic filter detection (dates, characters, tags, motifs)
- **Enhanced Detail Modals**: Comprehensive tabbed interface for exploring memories
  - **Overview**: Quick stats, full content, tags, timeline hierarchy, characters
  - **Context**: Timeline hierarchy details, temporal context (Â±5 days), chapter context
  - **Connections**: Characters mentioned and relationships
  - **Linked Memories**: Grouped by connection type (temporal, tag, chapter, character, source)
  - **Chat**: AI-powered chatbot for memory enhancement and updates
  - **Insights**: AI-generated analysis, themes, sentiment, reading time
  - **Timeline**: Visual timeline centered on memory with related entries
  - **Metadata**: Technical details, source information, raw JSON viewer
- Keyboard shortcuts (Ctrl/Cmd + 1-8) for quick navigation
- Chat integration for updating memories through conversation

#### ğŸ” **Truth Seeker & Fact Checking**
- **Automatic Verification**: Every entry is automatically verified against existing facts
- **Cost-Optimized Fact Extraction**: Rule-based pattern matching extracts facts (dates, locations, characters, events, relationships) - NO API calls
- **Efficient Contradiction Detection**: Uses discrete math (set theory, boolean algebra) for fast O(1) contradiction checks
- **Aggressive Caching**: Facts are cached by content hash - same content = instant results
- **Verification Status**: Four statuses - Verified, Unverified, Contradicted, Ambiguous
- **Truth Seeker Panel**: Discovery Hub panel showing all contradictions and verification statistics
- **Evidence Tracking**: Shows supporting and contradicting entries with evidence
- **Database-Optimized**: Uses efficient database queries and indexes for fast verification
- **Resolution Tools**: Mark contradictions as resolved with notes
- **Verification Badges**: Visual indicators on entries showing verification status

#### ğŸ“– **Automatic Biography Generation** â­ **Core Feature**
- **Your biography writes itself automatically** - Just journal your life, and Lore Keeper transforms your entries into a polished biography
- **AI-Powered Content Generation**: Automatically extracts themes, stories, and insights from your journal entries
- **Chatbot-style Editor**: Refine and edit your biography through natural conversation with AI
- **Automatic Section Organization**: AI organizes your life story into meaningful chapters and sections
- **Real-time Streaming**: Watch your biography come together as you chat with AI
- **Section Preview**: See all biography sections in a sidebar for easy navigation
- **Markdown Support**: Rich formatting for beautiful biography output
- **Continuous Updates**: Your biography automatically updates as you add new journal entries
- **Export Options**: Export your biography to PDF, eBook, or other formats

#### ğŸ“ **Location Tracking**
- Automatic location detection from entries
- Visit history and frequency tracking
- People who visited each location
- Location timelines and memories
- **Enhanced Location Detail Modals**: Comprehensive tabbed interface
  - **Overview**: Visit stats, top tags, chapters, moods
  - **Visits**: Complete visit history with dates, summaries, tags
  - **People**: People who visited with visit counts
  - **Context**: Location details, coordinates, visit timeline, sources
  - **Timeline**: Visual timeline of visits
  - **Chat**: AI-powered chatbot for location information
  - **Insights**: Visit patterns, frequency analysis, top tags
  - **Metadata**: Technical details and raw data
- Keyboard shortcuts (Ctrl/Cmd + 1-8) for quick navigation
- Chat integration for location-related queries

#### ğŸ“˜ **Lore Book (Reading Mode)**
- Beautiful reading interface with book-like typography
- Font size and line height controls
- Section navigation with progress indicators
- Timeline visualization at the bottom
- Chat interface for asking questions about the book
- Memoir integration for reading your auto-generated biography

#### âœ… **Task Engine**
- Goal and milestone tracking
- Task creation from chat commands (`/task` or natural language)
- Microsoft To-Do integration (sync tasks)
- Task timeline links
- Task briefing and event tracking
- Task completion and management

#### ğŸ§  **Discovery Hub**
- **Analytical Panels** - Toggle panels to explore different aspects of your data
  - **Identity Pulse**: Your persona signature and emotional trajectoryâ€”capture your essence (IdentityPulsePanel)
  - **Characters**: Relationship graphs and closeness trendsâ€”who shaped you and how (CharacterRelationshipGraph)
  - **Saga**: Narrative arcs and story structureâ€”the themes of your life (SagaPanel)
  - **Memory Fabric**: 3D graph visualization of connections between memoriesâ€”how experiences weave together (MemoryFabricPanel)
  - **Insights**: Patterns, correlations, predictions, and **Top Skills**â€”understand yourself deeply (InsightsPanel)
  - **Autopilot**: AI life guidance and recommendationsâ€”daily plans, weekly strategies, monthly corrections (AutopilotPanel)
  - **Soul Profile** â­: Your complete essence profileâ€”hopes, dreams, fears, strengths, weaknesses, skills, values, personality traits, and relationship patterns. **Dynamically evolves** with every conversation. See how you've changed over time with the evolution timeline. (SoulProfilePanel)
  - **Truth Seeker**: Fact checking and contradiction detectionâ€”ensure accuracy for immortality (TruthSeekerPanel)
- Clean, organized interface with visual feedback
- Easy panel toggling system
- **Purpose**: These panels help you understand and preserve your complete digital self

#### âŒ¨ï¸ **Keyboard Shortcuts**
- **Cmd+K** (Mac) / **Ctrl+K** (Windows): Quick search
- **Cmd+N** (Mac) / **Ctrl+N** (Windows): Create new entry
- **Ctrl/Cmd + 1-9**: Navigate between modal tabs
- All shortcuts are customizable and accessible

#### ğŸ”’ **Privacy & Security**
- **Privacy & Security Page**: Comprehensive information about data protection
- **Privacy Settings**: Control data retention, analytics, and sharing preferences
- **Privacy Policy**: Full privacy policy document
- **Terms of Service**: Required acceptance on first login
- **Data Export**: Download all your data in JSON format (GDPR compliant)
- **Account Deletion**: Permanently delete your account and all data
- End-to-end encryption (TLS 1.3 in transit, AES-256 at rest)
- Row-level security ensuring complete data isolation
- No data selling or third-party sharing

### Technical Features

#### ğŸ—ï¸ **Architecture**
- **Frontend**: React 18 + TypeScript + Vite
- **Backend**: Node.js + Express + TypeScript
- **Database**: Supabase (PostgreSQL) with Row Level Security
- **AI**: OpenAI GPT-4 for chat and content generation
- **Search**: Vector embeddings for semantic search (HQI)
- **Styling**: Tailwind CSS with custom cyberpunk theme

#### ğŸ” **Security**
- Row Level Security (RLS) policies
- User authentication via Supabase Auth
- Secure API endpoints
- Data isolation per user

#### ğŸ§ª **Testing**
- Unit tests with Vitest
- Component tests for critical UI components
- Integration tests
- E2E tests with Playwright
- Test coverage reporting

#### ğŸ“¦ **Development Tools**
- Hot module replacement (HMR)
- TypeScript strict mode
- ESLint + Prettier
- Pre-commit hooks
- GitHub Actions CI/CD

#### â™¿ **Accessibility**
- ARIA labels and roles for screen readers
- Keyboard navigation support
- Skip links for main content
- Semantic HTML structure
- Focus management for modals and dialogs

#### âš¡ **Performance**
- Virtual scrolling for long lists (React Virtual)
- Code splitting and lazy loading
- Optimized bundle sizes
- Skeleton loaders for better perceived performance
- Debounced API calls for tag suggestions

---

## Getting Started

### For Users

**Quick Start (5 minutes)**

1. **Sign Up**: Create an account using email or Google
2. **Start Writing**: Create your first journal entry
3. **Explore**: Check out the Timeline, Characters, and Chat features
4. **Ask Questions**: Try asking the AI about your entries

**First Steps**

- Write a few journal entries about recent events
- Let Lore Keeper automatically detect characters and relationships
- Try asking the AI: "What have I been working on lately?"
- Explore the Timeline to see your entries visualized
- Check out the Characters tab to see people automatically tracked

### For Developers

#### Prerequisites

- **Node.js** 20+ ([Download](https://nodejs.org/))
- **pnpm** 8+ (Install: `npm install -g pnpm`)
- **Supabase Account** ([Sign up](https://supabase.com/)) or local Supabase CLI
- **OpenAI API Key** ([Get one](https://platform.openai.com/api-keys))

#### Installation

```bash
# 1. Clone the repository
git clone https://github.com/yourusername/lorekeeper.git
cd lorekeeper

# 2. Install dependencies
pnpm install

# 3. Set up environment variables
cp .env.example .env
# Edit .env with your credentials (see below)
```

#### Environment Setup

Create a `.env` file in the project root:

```env
# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-key

# Server Configuration
PORT=4000
NODE_ENV=development
LOG_LEVEL=info
```

**For Local Development:**

```bash
# Install Supabase CLI
npm install -g supabase

# Initialize and start Supabase locally
supabase init
supabase start

# Copy the credentials shown to your .env file
# They'll look like:
# SUPABASE_URL=http://localhost:54321
# SUPABASE_ANON_KEY=eyJhbGc...
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...

# Run database migrations
supabase db reset
```

#### Running the Application

```bash
# Terminal 1: Start the backend server
pnpm dev:server
# Server runs on http://localhost:4000

# Terminal 2: Start the frontend web app
pnpm dev:web
# Web app runs on http://localhost:5173
```

**Open your browser** to `http://localhost:5173` and start using Lore Keeper!

#### Populating Dummy Data

To see Lore Keeper in action with sample data:

1. Open the browser console (F12)
2. Copy and paste the script from `populate-browser-console.js`
3. Press Enter
4. Wait for "Population complete!"
5. The page will refresh automatically

This creates:
- 3 chapters spanning 2 years
- 23 journal entries with relationships
- 5 characters/places
- 3 biography sections
- Sample tasks

---

## Project Structure

```
lorekeeper/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                    # Frontend React application
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/    # React components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat/      # Chat interface
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ timeline/  # Timeline visualizations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ characters/# Character management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ biography/ # Biography editor (chatbot-style)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ memoir/    # Memoir editor (legacy)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ discovery/ # Discovery Hub
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ security/  # Privacy & Security pages
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ lorebook/  # Reading interface
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/         # React hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ lib/           # Utilities
â”‚   â”‚   â”‚   â””â”€â”€ pages/         # Page components
â”‚   â”‚   â”œâ”€â”€ public/            # Static assets
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ server/                 # Backend Express API
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ routes/        # API route handlers
â”‚       â”‚   â”œâ”€â”€ services/      # Business logic
â”‚       â”‚   â”œâ”€â”€ types/         # TypeScript types
â”‚       â”‚   â””â”€â”€ index.ts       # Server entry point
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ lorekeeper/                 # Python backend (legacy/orchestrator)
â”‚   â”œâ”€â”€ orchestrator/          # Main orchestration engine
â”‚   â”œâ”€â”€ continuity/            # Continuity checking
â”‚   â”œâ”€â”€ persona/               # Persona engine
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ migrations/                 # Database migrations
â”‚   â”œâ”€â”€ 000_setup_all_tables.sql
â”‚   â”œâ”€â”€ 20250120_timeline_hierarchy.sql
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ scripts/                    # Utility scripts
â”‚   â”œâ”€â”€ setup-dev.sh           # Development setup
â”‚   â””â”€â”€ populate-dummy-data.ts # Data seeding
â”‚
â””â”€â”€ package.json                # Root package.json (monorepo)
```

---

## Architecture Overview

### Frontend Architecture

**Technology Stack:**
- **React 18** with TypeScript for type safety
- **Vite** for fast development and building
- **Tailwind CSS** for styling with custom cyberpunk theme
- **React Query** for data fetching and caching
- **Zustand** for state management (where needed)

**Key Components:**
- **Chat Interface**: Streaming AI responses with source citations, slash commands, message actions (ChatFirstInterface)
- **Timeline Views**: Multiple visualization modes (graph, cards, chapters, overview) with color-coding (TimelinePage, ImprovedTimelineView)
- **Character System**: Relationship tracking, knowledge base, auto-generated avatars, relationship graphs (CharacterBook, CharacterDetailModal)
- **Automatic Biography Generation**: AI-powered biography writing from journal entries with chatbot-style editor (BiographyEditor)
- **Discovery Hub**: Analytical panels for exploring insights and patterns (DiscoveryHub with 8 panels)
- **Memory Explorer**: Semantic search interface with HQI integration (MemoryExplorer, HQIPanel)
- **Truth Seeker**: Automatic fact checking and contradiction detection (TruthSeekerPanel)
- **Lore Book**: Reading-optimized interface for memoirs (LoreBook)
- **Entry Composer**: Rich text editor with AI tag suggestions and voice memo recording (NeonComposer)
- **Task Engine**: Task management with Microsoft To-Do integration (TaskEnginePanel)
- **Autopilot**: Strategic guidance panels (AutopilotPanel)
- **Location Tracking**: Location profiles and visit timelines (Locations, LocationDetailModal)
- **Skeleton Loaders**: Beautiful loading states for better UX

### Backend Architecture

**Technology Stack:**
- **Node.js + Express** for REST API
- **TypeScript** for type safety
- **Supabase Client** for database access
- **OpenAI API** for AI features

**Key Services:**
- **Memory Service**: Journal entry management and CRUD operations
- **Chapter Service**: Story arc organization and summaries
- **Character Service**: Relationship tracking with optimized batch queries
- **Omega Chat Service**: Multi-persona AI chat with streaming (Gossip Buddy, Therapist, Biography Writer, Soul Capturer, Strategist, Memory Bank)
- **Chat Service**: Simple chat service for summaries and reflections (used in chapters and summary routes)
- **Essence Profile Service**: Automatic extraction and tracking of psychological essence (hopes, dreams, fears, strengths, weaknesses, skills, values, traits, relationship patterns) with evolution tracking
- **HQI Service**: Semantic search with embeddings (cached)
- **Timeline Manager**: Hierarchical timeline management (9-layer hierarchy)
- **Timeline Page Service**: Timeline views, emotion intensity, highlights
- **Auto-Tagging Service**: AI-powered classification for entries (tags, lane, hierarchy)
- **Truth Verification Service**: Cost-optimized fact checking with rule-based extraction
- **Fact Extraction Service**: Rule-based pattern matching (no API calls)
- **Tag Service**: Rule-based tag extraction with caching
- **Embedding Service**: Cached embeddings for semantic search
- **RAG Packet Cache**: Cached context packets for chat (5-minute TTL)
- **Chapter Insights Cache**: Cached chapter profiles
- **Memoir Service**: Memoir generation and auto-update (cached)
- **Biography Service**: Biography generation with chatbot-style editing
- **Autopilot Service**: Strategic guidance (daily/weekly/monthly)
- **Task Engine Service**: Task management with Microsoft To-Do sync
- **Orchestrator Service**: Comprehensive context orchestration
- **Identity Service**: Identity pulse and persona tracking
- **People Places Service**: Location and character detection
- **Location Service**: Location profile management and visit tracking
- **Conversation Service**: Conversation session management
- **Naming Service**: AI-powered naming for chapters and memoirs
- **Canonical Service**: Canon alignment and correction tracking
- **Memory Ladder Renderer**: Memory ladder visualization service

### Database Schema

**Core Tables:**
- `journal_entries`: User journal entries (with embeddings for semantic search)
- `chapters`: Story chapters and arcs
- `characters`: People and places
- `memoir_sections`: Biography content (stored as memoir in database)
- `tasks`: Goals and milestones
- `timeline_*`: 9-layer hierarchy tables (mythos, epochs, eras, sagas, arcs, chapters, scenes, actions, microactions)
- `essence_profiles`: Dynamic psychological essence profiles (hopes, dreams, fears, strengths, weaknesses, skills, values, traits, relationship patterns, evolution)
- `fact_claims`: Extracted factual claims (for Truth Seeker)
- `entry_verifications`: Verification status and reports
- **Optimized Indexes**: Composite indexes for fast fact lookups, contradiction detection, and verification queries

**Security:**
- Row Level Security (RLS) on all tables
- User isolation via `user_id` foreign keys
- Secure API endpoints with authentication

---

## Development Guide

### Available Scripts

```bash
# Development
pnpm dev:web      # Start web app (port 5173)
pnpm dev:server   # Start API server (port 4000)

# Building
pnpm build        # Build all apps for production

# Testing
pnpm test         # Run all tests
pnpm test:coverage # Run tests with coverage
pnpm test:e2e     # Run end-to-end tests

# Code Quality
pnpm lint         # Lint all code
pnpm format       # Format code with Prettier
```

### Development Workflow

1. **Start Supabase** (if using local):
   ```bash
   supabase start
   ```

2. **Start Development Servers**:
   ```bash
   # Terminal 1
   pnpm dev:server
   
   # Terminal 2
   pnpm dev:web
   ```

3. **Make Changes**:
   - Frontend changes hot-reload automatically
   - Backend changes require server restart
   - Database changes require migrations

4. **Run Tests**:
   ```bash
   pnpm test
   ```

5. **Check Linting**:
   ```bash
   pnpm lint
   ```

### Database Migrations

```bash
# Create a new migration
supabase migration new migration_name

# Apply migrations
supabase db reset

# Or manually:
psql "your-db-url" -f migrations/your_migration.sql
```

### API Development

**API Routes Structure:**
- `/api/entries` - Journal entry CRUD, tag suggestions, voice transcription
- `/api/chapters` - Chapter management and summaries
- `/api/characters` - Character management (optimized batch queries)
- `/api/chat` - AI chat with streaming support (multi-persona)
- `/api/memoir/*` - Memoir operations (cached, auto-update)
- `/api/biography/*` - Biography operations (chatbot-style editor)
- `/api/timeline` - Timeline views, emotion intensity, highlights
- `/api/timeline-hierarchy/*` - 9-layer timeline hierarchy operations (batched queries)
- `/api/verification/*` - Truth Seeker and fact checking (rule-based, cached)
- `/api/hqi/*` - Semantic search (cached embeddings)
- `/api/orchestrator/*` - Comprehensive context orchestration
- `/api/autopilot/*` - Daily/weekly/monthly strategic guidance
- `/api/tasks` - Task management with Microsoft To-Do integration
- `/api/insights` - AI insights and predictions
- `/api/identity` - Identity pulse and persona tracking
- `/api/essence` - Essence profile and evolution tracking
  - `GET /profile` - Get current essence profile
  - `POST /extract` - Manual essence extraction
  - `PUT /skills` - Update skills (user-curated)
  - `GET /evolution` - Get evolution timeline
  - `POST /refine` - User refinement of AI findings
- `/api/locations` - Location tracking and visit history
- `/api/persona` - Persona state management
- `/api/evolution` - Evolution insights
- `/api/documents` - Document upload and language style
- `/api/privacy` - Privacy settings and data export
- `/api/subscription` - Subscription management
- `/api/dev` - Development utilities (dummy data population)

**See `BACKEND_FRONTEND_MAPPING.md`** for complete API documentation.

### Adding New Features

1. **Frontend Component**:
   - Create component in `apps/web/src/components/`
   - Add to appropriate surface/page
   - Update types if needed

2. **Backend Endpoint**:
   - Create route in `apps/server/src/routes/`
   - Add service logic in `apps/server/src/services/`
   - Update types in `apps/server/src/types/`

3. **Database Changes**:
   - Create migration file
   - Update types
   - Test migration

---

## Key Concepts

### Timeline Hierarchy

Lore Keeper uses a 9-layer hierarchy to organize memories:

1. **Mythos** - Top-level narrative themes
2. **Epochs** - Major time periods
3. **Eras** - Significant eras within epochs
4. **Sagas** - Long-form story arcs
5. **Arcs** - Story arcs within sagas
6. **Chapters** - Organized chapters
7. **Scenes** - Specific scenes
8. **Actions** - Individual actions
9. **MicroActions** - Granular events

This allows for rich, nested organization of your life story.

### Memory Fabric

The Memory Fabric is a graph-based representation of your memories, where:
- **Nodes** represent memories, characters, concepts
- **Edges** represent relationships and connections
- **Embeddings** enable semantic search and similarity

### HQI (High-Quality Intelligence) Search

HQI provides semantic search capabilities:
- Natural language queries
- Vector embeddings for similarity search
- Automatic filter detection
- Context-aware results

### Continuity Checking

Omega Canon Keeper ensures narrative consistency:
- Detects contradictions in your story
- Suggests corrections
- Maintains timeline accuracy
- Prevents factual drift

---

## Documentation

- **[Quick Start Guide](QUICK_START.md)** - Get up and running fast
- **[Demo Guide](DEMO_GUIDE.md)** - Explore all features
- **[Backend API Mapping](BACKEND_FRONTEND_MAPPING.md)** - Complete API reference
- **[Codex Blueprint](CODEX_BLUEPRINT.md)** - System architecture details
- **[Improvement Plan](IMPROVEMENT_PLAN.md)** - Roadmap and ideas

---

## Contributing

We welcome contributions! Here's how to get started:

1. **Fork the repository**
2. **Create a feature branch**: `git checkout -b feature/your-feature`
3. **Make your changes**
4. **Add tests** for new features
5. **Run tests**: `pnpm test`
6. **Check linting**: `pnpm lint`
7. **Commit your changes**: `git commit -m "Add your feature"`
8. **Push to your fork**: `git push origin feature/your-feature`
9. **Submit a pull request**

### Code Style

- Use TypeScript for all new code
- Follow existing code patterns
- Add JSDoc comments for public APIs
- Write tests for new features
- Update documentation as needed

### Testing

- Write unit tests for services and utilities
- Write integration tests for API endpoints
- Write E2E tests for critical user flows
- Aim for >80% code coverage

---

## Troubleshooting

### Common Issues

**"Cannot connect to database"**
- Check Supabase is running: `supabase status`
- Verify `.env` file has correct credentials
- Restart server after updating `.env`

**"Module not found" errors**
- Run `pnpm install` again
- Delete `node_modules` and reinstall
- Check Node.js version: `node --version` (should be 20+)

**"Port already in use"**
- Change `PORT` in `.env` to a different number
- Or kill the process: `lsof -ti:4000 | xargs kill`

**"500 Internal Server Error"**
- Check server logs in terminal
- Verify database tables exist: `supabase db reset`
- Check `.env` configuration

**Frontend not loading**
- Check server is running on port 4000
- Verify API endpoints are accessible
- Check browser console for errors

---

## Technology Stack Details

### Frontend
- **React 18.3+** - UI library
- **TypeScript 5+** - Type safety
- **Vite 5+** - Build tool and dev server
- **Tailwind CSS 3+** - Utility-first CSS
- **Lucide React** - Icon library
- **@tanstack/react-virtual** - Virtual scrolling for performance
- **TanStack Query** - Data fetching and caching
- **Vitest** - Component and unit testing

### Backend
- **Node.js 20+** - Runtime
- **Express 4+** - Web framework
- **TypeScript 5+** - Type safety
- **Supabase JS** - Database client
- **OpenAI SDK** - AI integration

### Database
- **PostgreSQL** (via Supabase)
- **Row Level Security** for data isolation
- **Vector extensions** for embeddings
- **Full-text search** capabilities

### AI & ML
- **OpenAI GPT-4** - Chat and content generation
- **OpenAI Embeddings** - Semantic search vectors
- **Whisper API** - Voice transcription
- **DiceBear API** - Character avatar generation

### DevOps
- **GitHub Actions** - CI/CD
- **Vitest** - Testing framework
- **Playwright** - E2E testing
- **ESLint + Prettier** - Code quality

---

## Security & Privacy

- **Authentication**: Supabase Auth with email/password and OAuth
- **Data Isolation**: Row Level Security ensures users only see their data
- **API Security**: All endpoints require authentication
- **Encryption**: Data encrypted at rest and in transit
- **Privacy**: Your data is yours - we don't sell or share it

---

## Performance

- **Frontend**: 
  - Code splitting and lazy loading
  - Virtual scrolling for long lists (React Virtual)
  - Skeleton loaders for better perceived performance
  - Debounced API calls to reduce server load
  - Optimized bundle sizes with Vite
- **Backend**: 
  - Multi-level caching (memory + database)
  - Batch database queries (eliminated N+1 problems)
  - Rule-based extraction (no API calls for common operations)
  - Parallel query execution (Promise.all)
  - Discrete math operations for efficiency
- **Database**: Indexed queries, optimized schemas, composite indexes
- **Search**: Vector indexes for fast semantic search (cached embeddings)

---

## Cost & Performance

### Cost Optimization Strategy
- **Rule-Based Extraction**: Tags, facts, entities, dates extracted using pattern matching (FREE)
- **Aggressive Caching**: Multi-level caching (memory + database) for embeddings, facts, RAG packets, insights
- **Batch Operations**: Eliminated N+1 queries, parallel database operations
- **Smart API Usage**: API calls only when rule-based extraction insufficient
- **Estimated Savings**: ~$8-10/month in API costs eliminated

### Performance Optimizations

**Speed Improvements:**
- **Character List**: 2-5s â†’ 200ms (10-25x faster) - Eliminated N+1 queries
- **RAG Packets**: 500ms-5s â†’ 10-50ms (50-100x faster) - Aggressive caching
- **Chapter Insights**: 2-5s â†’ 50ms (40-100x faster) - Entry count invalidation
- **Memoir Generation**: 500ms â†’ 10ms (50x faster) - Content hash caching
- **Tag Extraction**: 500ms â†’ 10ms (50x faster) - Rule-based + caching
- **Entity Detection**: 500ms â†’ 10ms (50x faster) - Pattern matching first
- **Timeline Hierarchy**: 300ms â†’ 100ms (3x faster) - Parallel queries
- **Auto-Tagging**: 500ms â†’ 10ms (50x faster) - Rule-based extraction

**Overall Impact:**
- **10-100x faster** operations across the board
- **O(1) lookups** using discrete math operations
- **Zero API calls** for common operations (rule-based extraction)
- **Efficient Algorithms**: Set theory, boolean algebra, hashing for optimal performance
- **Database Indexes**: Composite indexes for fast fact queries and verification

---

## Roadmap

### Current Features (v0.1.0)
- âœ… **Automatic Biography Generation** â­ - Your biography writes itself from journal entries
- âœ… **Automatic Timeline Creation** â­ - Your timeline builds itself automatically from journal entries
- âœ… **Multi-Persona AI Chat** â­ - Gossip Buddy, Therapist, Biography Writer, Soul Capturer, Strategist, Memory Bank
- âœ… **Soul Profile & Essence Tracking** â­ - Automatically extracts and tracks your hopes, dreams, fears, strengths, weaknesses, skills, values, traits, and relationship patterns. Dynamically evolves with every conversation.
- âœ… Journal entries with AI assistance (full CRUD)
- âœ… Rule-based tag suggestions (cost-optimized, cached)
- âœ… Voice memo recording and transcription (OpenAI Whisper)
- âœ… Character and relationship tracking (optimized batch queries, relationship graphs)
- âœ… Auto-generated character avatars (DiceBear API)
- âœ… Timeline visualization with multiple view modes (graph, cards, chapters, overview)
- âœ… Biography editor (chatbot-style) for refining auto-generated content
- âœ… Discovery Hub with 8 analytical panels (Identity, Characters, Saga, Fabric, Insights, Autopilot, **Soul Profile**, Truth)
- âœ… **Enhanced Chat Features**: Slash commands (`/soul`, `/locations`, `/help`), message actions (copy, regenerate, edit, delete), clickable sources
- âœ… Truth Seeker & Fact Checking system (cost-optimized, rule-based)
- âœ… Memory Explorer with semantic search (HQI)
- âœ… Task Engine with Microsoft To-Do integration
- âœ… Autopilot strategic guidance (daily/weekly/monthly)
- âœ… Location tracking with visit history
- âœ… Chapter management with AI summaries
- âœ… Lore Book reading interface
- âœ… Privacy & Security features (data export, account deletion)
- âœ… Terms of Service acceptance system
- âœ… Subscription management
- âœ… Onboarding wizard
- âœ… Keyboard shortcuts (Cmd+K, Cmd+N, Ctrl/Cmd + 1-9)
- âœ… Accessibility features (ARIA labels, skip links)
- âœ… Virtual scrolling for performance
- âœ… Skeleton loaders for better UX
- âœ… Frontend component tests
- âœ… **Cost Optimizations**: Rule-based extraction, aggressive caching, batch queries
- âœ… **Performance Optimizations**: 10-100x faster operations, eliminated N+1 queries

### Planned Features (Digital Immortality Roadmap)
- ğŸ”„ **Emotional Depth**: Enhanced mood/emotion tracking with sentiment analysis
- ğŸ”„ **Values & Beliefs System**: Explicitly capture and track your core values and how they evolve
- ğŸ”„ **Dreams & Aspirations**: Dedicated tracking of goals, dreams, and life aspirations
- ğŸ”„ **Legacy Builder**: Tools to create messages, wisdom, and guidance for future generations
- ğŸ”„ **Personality Profiling**: AI-powered personality analysis and trait tracking over time
- ğŸ”„ **Photo Gallery**: Visual memories with emotional context
- ğŸ”„ **Voice & Video**: Capture your voice, mannerisms, and speaking patterns
- ğŸ”„ **External Platform Imports**: Import from GitHub, Instagram, X/Twitter to capture your digital footprint
- ğŸ”„ **Mobile App**: Capture moments as they happen, anywhere
- ğŸ”„ **Export Formats**: Export to PDF/eBook, structured JSON for AI systems, or custom formats
- ğŸ”„ **Collaborative Memories**: Let others contribute memories about you
- ğŸ”„ **Advanced Analytics**: Deep insights into your patterns, growth, and essence
- ğŸ”„ **AI Personality Training**: Train AI models on your complete data for future digital immortality

---

## FAQ

### General Questions

**Q: Do I need to be a good writer to use Lore Keeper?**  
A: No! Lore Keeper is designed for everyone. Just write naturally about your lifeâ€”the AI handles the rest. Your biography and timeline write themselves automatically.

**Q: How automatic is it really?**  
A: Very automatic! When you create a journal entry:
- Facts are automatically extracted
- Timeline structure is automatically updated
- Biography sections are automatically generated
- Relationships are automatically detected
- Truth verification happens automatically

You can refine and edit everything, but the heavy lifting is done for you.

**Q: What about my privacy?**  
A: Your data is yours. We use:
- Row-level security ensuring complete data isolation
- End-to-end encryption (TLS 1.3 in transit, AES-256 at rest)
- No data selling or third-party sharing
- GDPR-compliant data export
- Account deletion removes all data permanently

**Q: Can I export my data?**  
A: Yes! You can export all your data in JSON format (GDPR compliant). Future export formats include PDF, eBook, and structured formats for AI systems.

**Q: How much does it cost?**  
A: Lore Keeper is cost-optimized with rule-based extraction and aggressive caching, eliminating most API costs. The core operations are freeâ€”no expensive API calls for common tasks.

### Technical Questions

**Q: What are the different personas/roles Lore Keeper can be?**  
A: Lore Keeper seamlessly blends six personas based on context:
- **Gossip Buddy**: For discussing characters, relationships, and social dynamics
- **Therapist**: For emotional support and processing experiences
- **Biography Writer**: For shaping compelling life stories and structuring narratives
- **Soul Capturer**: For identifying and tracking your core essence (hopes, dreams, fears, strengths, values)
- **Strategist**: For goal-oriented planning and actionable insights
- **Memory Bank**: For remembering everything and answering questions

The AI automatically adaptsâ€”emotional topics trigger Therapist mode, goal-setting triggers Strategist, character talk triggers Gossip Buddy, story editing triggers Biography Writer, deep reflection triggers Soul Capturer, etc.

**Q: What is the Soul Profile feature?**  
A: The Soul Profile automatically extracts and tracks your psychological essence from conversations:
- **Hopes & Dreams**: Your aspirations and ideal scenarios
- **Fears**: Your anxieties and concerns
- **Strengths**: Your core competencies and positive traits
- **Weaknesses**: Areas for growth and challenges
- **Top Skills**: Technical abilities and talents (with confidence scores)
- **Core Values**: What matters most to you
- **Personality Traits**: Your character attributes
- **Relationship Patterns**: How you interact with others

The profile **dynamically evolves** with every conversationâ€”Lore Keeper learns more about you over time and tracks how you change. View it in Discovery Hub â†’ Soul Profile panel or use `/soul` command in chat.

**Q: How does automatic biography generation work?**  
A: Lore Keeper analyzes your journal entries, extracts themes and stories, and uses AI to transform them into polished biography sections. You can refine through a chatbot-style editor.

**Q: How does automatic timeline creation work?**  
A: AI analyzes your entries to detect themes, relationships, and patterns, then automatically organizes them into a 9-layer hierarchy (Mythos â†’ Epochs â†’ Eras â†’ Sagas â†’ Arcs â†’ Chapters â†’ Scenes â†’ Actions â†’ MicroActions).

**Q: What is digital immortality?**  
A: Digital immortality means preserving your complete essenceâ€”story, heart, mind, soulâ€”in a structured format that future AI systems can use to continue your story, share your wisdom, and keep you connected to loved ones.

**Q: How fast is it?**  
A: Very fast! Through optimizations:
- Character list: 2-5s â†’ 200ms (10-25x faster)
- RAG packets: 500ms-5s â†’ 10-50ms (50-100x faster)
- Tag extraction: 500ms â†’ 10ms (50x faster)
- Most operations are 10-100x faster than before

**Q: What technologies does Lore Keeper use?**  
A: 
- **Frontend**: React 18, TypeScript, Vite, Tailwind CSS
- **Backend**: Node.js, Express, TypeScript
- **Database**: Supabase (PostgreSQL) with Row Level Security
- **AI**: OpenAI GPT-4 for chat and content generation
- **Search**: Vector embeddings for semantic search

### Feature Questions

**Q: Can I import data from other journaling apps?**  
A: Currently, you can export your data in JSON format. Import features for other platforms are planned (see Roadmap).

**Q: Can others contribute to my journal?**  
A: Currently, it's private to you. Collaborative memories (letting others contribute) are planned for the future.

**Q: Does it work offline?**  
A: Currently, Lore Keeper requires an internet connection. Offline support is planned for future releases.

**Q: Can I use it on mobile?**  
A: The web app works on mobile browsers. A dedicated mobile app is planned (see Roadmap).

**Q: How does truth verification work?**  
A: Every entry is automatically checked against existing facts using:
- Rule-based fact extraction (no API calls)
- Discrete math (set theory, boolean algebra) for contradiction detection
- Database queries for evidence tracking
- Automatic flagging of contradictions for your review

---

## License

**Private** - Omega Technologies

All rights reserved. This software is proprietary and confidential.

---

## Support

- **Documentation**: Check the `/docs` folder and markdown files
- **Issues**: Open an issue on GitHub
- **Questions**: Check existing documentation first

---

<div align="center">
  <p>Built with â¤ï¸ by <strong>Omega Technologies</strong></p>
  <p><em>Capture your story, heart, mind, soul, and essence. Preserve your complete being for future AI systems.</em></p>
  <p>
    <strong>Ready to start?</strong> 
    <a href="#getting-started">Get Started</a> â€¢ 
    <a href="#contributing">Contribute</a> â€¢ 
    <a href="#faq">FAQ</a>
  </p>
</div>
